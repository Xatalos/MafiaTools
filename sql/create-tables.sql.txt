CREATE TABLE username
(
Name text PRIMARY KEY,
Password text NOT NULL
);

CREATE TABLE game
(
GameID SERIAL PRIMARY KEY,
GameName text NOT NULL,
Username text NOT NULL REFERENCES username(Name)
);

CREATE TABLE player
(
PlayerID SERIAL PRIMARY KEY,
PlayerName text NOT NULL,
Meta text DEFAULT ’???’,
Username text NOT NULL REFERENCES username(Name)
);

CREATE TABLE participant
(
GameID integer NOT NULL REFERENCES game(GameID),
PlayerID integer NOT NULL REFERENCES player(PlayerID),
CONSTRAINT ParticipantID PRIMARY KEY (GameID, PlayerID)
);

CREATE TABLE playeringame
(
PlayerInGameID SERIAL PRIMARY KEY,
GameID integer NOT NULL REFERENCES game(GameID),
PlayerID integer NOT NULL REFERENCES player(PlayerID),
Points integer DEFAULT 0,
Notes text
);